-- [[ CUSTOM RIVALS MENU - 10CXM ENGINE ]]
-- [[ NO KOREAN - DELTA OPTIMIZED ]]

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "RIVALS PRIVATE: 10CXM",
   LoadingTitle = "Loading Rivals Script...",
   LoadingStatus = "by Gemini",
   ConfigurationSaving = {
      Enabled = false
   }
})

-- [ Variables ]
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

_G.Aimbot = false
_G.ESP = false
_G.FOV = 400

-- [ Tabs ]
local MainTab = Window:CreateTab("Combat", 4483362458)
local VisualTab = Window:CreateTab("Visuals", 4483362458)

-- [ Combat Section ]
MainTab:CreateToggle({
   Name = "Silent Aim (10cxm)",
   CurrentValue = false,
   Callback = function(Value)
      _G.Aimbot = Value
   end,
})

MainTab:CreateSlider({
   Name = "Aimbot FOV",
   Range = {0, 1000},
   Increment = 10,
   Suffix = "Range",
   CurrentValue = 400,
   Callback = function(Value)
      _G.FOV = Value
   end,
})

-- [ Visual Section ]
VisualTab:CreateToggle({
   Name = "Enemy ESP",
   CurrentValue = false,
   Callback = function(Value)
      _G.ESP = Value
   end,
})

-- [ Core Logic ]
local function GetClosest()
    local target, dist = nil, _G.FOV
    for _, p in pairs(Players:GetPlayers()) do
        if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Head") then
            local pos, vis = Camera:WorldToViewportPoint(p.Character.Head.Position)
            if vis then
                local mag = (Vector2.new(pos.X, pos.Y) - Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)).Magnitude
                if mag < dist then
                    target = p.Character.Head
                    dist = mag
                end
            end
        end
    end
    return target
end

-- 10cxm Hook Logic
local old; old = hookmetamethod(game, "__namecall", function(self, ...)
    local method = getnamecallmethod()
    if _G.Aimbot and (method == "Raycast" or method == "FindPartOnRay") then
        local t = GetClosest()
        if t then return t, t.Position, t.CFrame.LookVector, t.Material end
    end
    return old(self, ...)
end)

-- ESP Loop
RunService.RenderStepped:Connect(function()
    for _, p in pairs(Players:GetPlayers()) do
        if p ~= LocalPlayer and p.Character then
            local h = p.Character:FindFirstChild("MenuHighlight")
            if _G.ESP then
                if not h then
                    h = Instance.new("Highlight", p.Character)
                    h.Name = "MenuHighlight"
                    h.FillColor = Color3.fromRGB(255, 0, 0)
                end
            elseif h then h:Destroy() end
        end
    end
end)

Rayfield:Notify({
   Title = "Success",
   Content = "Menu Loaded Successfully!",
   Duration = 5
})

